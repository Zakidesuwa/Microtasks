import{d as ne,a as E,n as ie}from"../chunks/vthok_eK.js";import"../chunks/DjKZgApb.js";import{ag as Ie,am as Ee,an as He,ah as oe,ai as $e,ak as s,aj as l,s as z,K as H,g as e,al as o,n as P,v as Ce}from"../chunks/BzRJZXn9.js";import{e as D,s as Le}from"../chunks/DexkCHB1.js";import{i as re}from"../chunks/e8VI5U1H.js";import{s as a}from"../chunks/BTrMBUsU.js";import{t as Ae,a as Be}from"../chunks/DoonBkoh.js";import{i as Se}from"../chunks/Bq-VOS1f.js";import{s as Te,a as Ve}from"../chunks/CQ-rNl5F.js";import{o as Ze,a as We}from"../chunks/CRjAGTYJ.js";import{p as Pe}from"../chunks/DA7Cc7Tm.js";import{g as De}from"../chunks/BRtj5TtV.js";import{q as je}from"../chunks/iVSWiVfi.js";var Ne=ne('<aside id="sidebar"><div class="svelte-vyayqc"><div><img src="/logonamin.png" alt="Microtask Logo" class="w-8 h-8 svelte-vyayqc"> <h1>Microtask</h1></div> <nav class="flex flex-col gap-2 svelte-vyayqc"><a href="/home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc" aria-hidden="true"><path d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z" class="svelte-vyayqc"></path><path d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z" class="svelte-vyayqc"></path></svg> <span class="svelte-vyayqc">Home</span></a> <a href="/dashboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc" aria-hidden="true"><path d="M10.5 4.5a1.5 1.5 0 00-3 0v15a1.5 1.5 0 003 0V4.5z" class="svelte-vyayqc"></path><path d="M4.5 10.5a1.5 1.5 0 000 3h15a1.5 1.5 0 000-3h-15z" class="svelte-vyayqc"></path><path fill-rule="evenodd" d="M1.5 3A1.5 1.5 0 013 1.5h18A1.5 1.5 0 0122.5 3v18a1.5 1.5 0 01-1.5 1.5H3A1.5 1.5 0 011.5 21V3zm1.5.75v16.5h16.5V3.75H3z" clip-rule="evenodd" class="svelte-vyayqc"></path></svg> <span class="svelte-vyayqc">Dashboard</span></a> <a href="/tasks"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" class="svelte-vyayqc"></path></svg> <span class="svelte-vyayqc">All Tasks</span></a> <a href="/calendar"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc" aria-hidden="true"><path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zM5.25 6.75c-.621 0-1.125.504-1.125 1.125V18a1.125 1.125 0 001.125 1.125h13.5A1.125 1.125 0 0019.875 18V7.875c0-.621-.504-1.125-1.125-1.125H5.25z" clip-rule="evenodd" class="svelte-vyayqc"></path><path d="M10.5 9.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H10.5v-.01a.75.75 0 000-1.5zM10.5 12.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H10.5v-.01a.75.75 0 000-1.5zM10.5 15.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H10.5v-.01a.75.75 0 000-1.5zM13.5 9.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H13.5v-.01a.75.75 0 000-1.5zM13.5 12.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H13.5v-.01a.75.75 0 000-1.5zM13.5 15.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H13.5v-.01a.75.75 0 000-1.5zM16.5 9.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H16.5v-.01a.75.75 0 000-1.5zM16.5 12.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H16.5v-.01a.75.75 0 000-1.5zM16.5 15.75a.75.75 0 00-1.5 0v.01c0 .414.336.75.75.75H16.5v-.01a.75.75 0 000-1.5z" class="svelte-vyayqc"></path></svg> <span class="svelte-vyayqc">Calendar</span></a> <a href="/workspace"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.098a2.25 2.25 0 0 1-2.25 2.25h-12a2.25 2.25 0 0 1-2.25-2.25V14.15M18 18.75h.75A2.25 2.25 0 0 0 21 16.5v-1.5a2.25 2.25 0 0 0-2.25-2.25h-15A2.25 2.25 0 0 0 1.5 15v1.5A2.25 2.25 0 0 0 3.75 18.75H4.5M12 12.75a3 3 0 0 0-3-3H5.25V7.5a3 3 0 0 1 3-3h7.5a3 3 0 0 1 3 3v2.25H15a3 3 0 0 0-3 3Z" class="svelte-vyayqc"></path></svg> <span class="svelte-vyayqc">Workspace</span></a> <a href="/ai-chat"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc" aria-hidden="true"><path d="M12.001 2.504a2.34 2.34 0 00-2.335 2.335v.583c0 .582.212 1.13.582 1.556l.03.035-.03.034a2.34 2.34 0 00-2.917 3.916A3.287 3.287 0 004.08 14.25a3.287 3.287 0 003.287 3.287h8.266a3.287 3.287 0 003.287-3.287 3.287 3.287 0 00-1.253-2.583 2.34 2.34 0 00-2.917-3.916l-.03-.034.03-.035c.37-.425.582-.973.582-1.555v-.583a2.34 2.34 0 00-2.335-2.336h-.002zM9.75 12.75a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5z" class="svelte-vyayqc"></path><path fill-rule="evenodd" d="M12 1.5c5.79 0 10.5 4.71 10.5 10.5S17.79 22.5 12 22.5 1.5 17.79 1.5 12 6.21 1.5 12 1.5zM2.85 12a9.15 9.15 0 019.15-9.15 9.15 9.15 0 019.15 9.15 9.15 9.15 0 01-9.15 9.15A9.15 9.15 0 012.85 12z" clip-rule="evenodd" class="svelte-vyayqc"></path></svg> <span class="svelte-vyayqc">Ask Synthia</span></a></nav></div> <button><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" class="svelte-vyayqc"></path></svg> <span class="svelte-vyayqc">Log out</span></button></aside>'),Ue=ie('<path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 0-.103.103l1.132 1.132a.75.75 0 0 0 1.06 0l1.132-1.132a.75.75 0 0 0-.103-1.06l-1.132-1.132a.75.75 0 0 0-1.06 0L9.63 1.615a.75.75 0 0 0-.102.103ZM12 3.75a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75ZM18.282 5.282a.75.75 0 0 0-1.06 0l-1.132 1.132a.75.75 0 0 0 .103 1.06l1.132 1.132a.75.75 0 0 0 1.06 0l1.132-1.132a.75.75 0 0 0-.103-1.06l-1.132-1.132a.75.75 0 0 0 0-.103ZM19.5 12a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 .75.75ZM18.282 18.718a.75.75 0 0 0 0 1.06l1.132 1.132a.75.75 0 0 0 1.06 0l1.132-1.132a.75.75 0 0 0-.103-1.06l-1.132-1.132a.75.75 0 0 0-1.06 0l-1.132 1.132a.75.75 0 0 0 .103.103ZM12 18.75a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 .75.75ZM5.718 18.718a.75.75 0 0 0 1.06 0l1.132-1.132a.75.75 0 0 0-.103-1.06l-1.132-1.132a.75.75 0 0 0-1.06 0L4.586 17.686a.75.75 0 0 0 .103 1.06l1.132 1.132a.75.75 0 0 0 0 .103ZM4.5 12a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM5.718 5.282a.75.75 0 0 0 0-1.06l-1.132-1.132a.75.75 0 0 0-1.06 0L2.39 4.114a.75.75 0 0 0 .103 1.06l1.132 1.132a.75.75 0 0 0 1.06 0l1.132-1.132a.75.75 0 0 0-.103-.103ZM12 6.75a5.25 5.25 0 0 1 5.25 5.25 5.25 5.25 0 0 1-5.25 5.25 5.25 5.25 0 0 1-5.25-5.25 5.25 5.25 0 0 1 5.25-5.25Z" clip-rule="evenodd" class="svelte-vyayqc"></path>'),Oe=ie('<path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM12 16.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9Z" clip-rule="evenodd" class="svelte-vyayqc"></path>'),Ke=ne('<div><!> <div class="flex-1 flex flex-col overflow-hidden svelte-vyayqc"><header><div class="header-left svelte-vyayqc"><button id="hamburgerButton" class="menu-btn svelte-vyayqc" aria-label="Toggle Sidebar"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 svelte-vyayqc"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" class="svelte-vyayqc"></path></svg></button> <a href="/home" class="logo svelte-vyayqc"><img src="/logonamin.png" alt="Microtask Logo" class="h-8 w-auto svelte-vyayqc"> <span>Microtask</span></a></div> <div class="header-icons svelte-vyayqc"><div class="relative svelte-vyayqc"><button id="bellIcon" aria-label="Notifications" class="svelte-vyayqc"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc" aria-hidden="true"><path fill-rule="evenodd" d="M5.25 9a6.75 6.75 0 0113.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 01-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 11-7.48 0c-1.673-.253-3.287-.673-4.831-1.243a.75.75 0 01-.297-1.206C4.45 13.807 5.25 11.873 5.25 9.75V9zm4.502 8.9a2.25 2.25 0 104.496 0H9.752z" clip-rule="evenodd" class="svelte-vyayqc"></path></svg></button> <div id="notifWindow"><h3 class="font-semibold mb-2 text-sm svelte-vyayqc">Notifications</h3><p class="text-xs svelte-vyayqc">No new notifications.</p></div></div> <div class="relative svelte-vyayqc"><button id="helpIcon" aria-label="Help &amp; FAQ" class="svelte-vyayqc"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc" aria-hidden="true"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.042.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd" class="svelte-vyayqc"></path></svg></button> <div id="helpWindow"><h3 class="font-semibold mb-2 text-sm svelte-vyayqc">FAQ</h3> <ul class="list-disc list-inside space-y-1 text-xs svelte-vyayqc"><li class="svelte-vyayqc">How do I use AI Chat?</li><li class="svelte-vyayqc">Where is my profile?</li></ul> <a href="/support" class="text-xs text-blue-600 hover:underline mt-2 block svelte-vyayqc">Visit Support</a></div></div> <div class="relative svelte-vyayqc"><button id="profileIcon" aria-label="Profile Menu" class="svelte-vyayqc"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc" aria-hidden="true"><path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" class="svelte-vyayqc"></path></svg></button> <div id="profileWindow"><h3 class="font-semibold mb-2 text-sm svelte-vyayqc">Profile</h3> <p class="text-xs mb-2 truncate svelte-vyayqc"> </p> <button>Logout</button></div></div> <button id="darkModeToggle" aria-label="Toggle Dark Mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 svelte-vyayqc"><!></svg></button></div></header> <div class="flex-1 flex flex-col overflow-y-auto pt-[60px] svelte-vyayqc"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 svelte-vyayqc" aria-hidden="true"><path d="M12.001 2.504a2.34 2.34 0 00-2.335 2.335v.583c0 .582.212 1.13.582 1.556l.03.035-.03.034a2.34 2.34 0 00-2.917 3.916A3.287 3.287 0 004.08 14.25a3.287 3.287 0 003.287 3.287h8.266a3.287 3.287 0 003.287-3.287 3.287 3.287 0 00-1.253-2.583 2.34 2.34 0 00-2.917-3.916l-.03-.034.03-.035c.37-.425.582-.973.582-1.555v-.583a2.34 2.34 0 00-2.335-2.336h-.002zM9.75 12.75a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5z" class="svelte-vyayqc"></path><path fill-rule="evenodd" d="M12 1.5c5.79 0 10.5 4.71 10.5 10.5S17.79 22.5 12 22.5 1.5 17.79 1.5 12 6.21 1.5 12 1.5zM2.85 12a9.15 9.15 0 019.15-9.15 9.15 9.15 0 019.15 9.15 9.15 9.15 0 01-9.15 9.15A9.15 9.15 0 012.85 12z" clip-rule="evenodd" class="svelte-vyayqc"></path></svg> <span class="text-lg sm:text-xl font-semibold svelte-vyayqc">Ask Synthia</span></div> <div id="chatMessages" class="flex-1 flex flex-col space-y-3 p-4 sm:p-6 overflow-y-auto max-w-3xl w-full mx-auto custom-scrollbar svelte-vyayqc"><div id="initialPlaceholder" class="flex-1 flex flex-col justify-center items-center text-center text-gray-500 dark:text-zinc-400 svelte-vyayqc"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-20 h-20 mb-4 opacity-30 svelte-vyayqc" aria-hidden="true"><path d="M12.001 2.504a2.34 2.34 0 00-2.335 2.335v.583c0 .582.212 1.13.582 1.556l.03.035-.03.034a2.34 2.34 0 00-2.917 3.916A3.287 3.287 0 004.08 14.25a3.287 3.287 0 003.287 3.287h8.266a3.287 3.287 0 003.287-3.287 3.287 3.287 0 00-1.253-2.583 2.34 2.34 0 00-2.917-3.916l-.03-.034.03-.035c.37-.425.582-.973.582-1.555v-.583a2.34 2.34 0 00-2.335-2.336h-.002zM9.75 12.75a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5z" class="svelte-vyayqc"></path><path fill-rule="evenodd" d="M12 1.5c5.79 0 10.5 4.71 10.5 10.5S17.79 22.5 12 22.5 1.5 17.79 1.5 12 6.21 1.5 12 1.5zM2.85 12a9.15 9.15 0 019.15-9.15 9.15 9.15 0 019.15 9.15 9.15 9.15 0 01-9.15 9.15A9.15 9.15 0 012.85 12z" clip-rule="evenodd" class="svelte-vyayqc"></path></svg> <p class="text-xl font-medium svelte-vyayqc">Ask Synthia Anything!</p> <p class="text-sm svelte-vyayqc">Your personal AI assistant for Microtask.</p></div></div> <div><div class="relative max-w-3xl mx-auto svelte-vyayqc"><input id="chatInput" type="text" placeholder="Send a message to Synthia..."> <button id="sendChat" aria-label="Send Message"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" class="w-5 h-5 svelte-vyayqc"><path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z" class="svelte-vyayqc"></path></svg></button></div></div></div></div></div>');function r0(ce,de){Ie(de,!1);const[ve,ge]=Te(),x=()=>Ve(Pe,"$page",ve),m=H();let $=H("User"),q=H(!1),t=H(!1);function he(){return localStorage.getItem("microtask_username")||"User"}function ye(){z(q,!e(q))}function j(){z(q,!1)}function N(){z(t,!e(t)),document.body.classList.toggle("dark",e(t)),localStorage.setItem("theme",e(t)?"dark":"light")}function U(){localStorage.removeItem("microtask_username"),document.cookie="userId=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax;",De("/login")}const O=["notifWindow","helpWindow","profileWindow"];function pe(r){const n=document.getElementById(r);n&&n.classList.toggle("hidden")}function K(r){O.forEach(n=>{var i;n!==r&&((i=document.getElementById(n))==null||i.classList.add("hidden"))})}let M=null,k=null;Ze(()=>{z($,he());{const p=localStorage.getItem("theme");z(t,p==="dark"||!p&&window.matchMedia("(prefers-color-scheme: dark)").matches),document.body.classList.toggle("dark",e(t));const c=document.getElementById("darkModeToggle");c&&c.addEventListener("click",N);const u=(w,h)=>{const d=document.getElementById(w);d&&d.addEventListener("click",y=>{y.stopPropagation(),pe(h),K(h)})};u("bellIcon","notifWindow"),u("helpIcon","helpWindow"),u("profileIcon","profileWindow")}M=p=>{const c=p.target;let u=!1;["bellIcon","helpIcon","profileIcon"].forEach(g=>{const v=document.getElementById(g);v&&v.contains(c)&&(u=!0)});let h=!1;O.forEach(g=>{const v=document.getElementById(g);v&&!v.classList.contains("hidden")&&v.contains(c)&&(h=!0)}),!u&&!h&&K("");const d=document.getElementById("sidebar"),y=document.getElementById("hamburgerButton");d&&!d.contains(c)&&y&&!y.contains(c)&&e(q)&&j()},document.addEventListener("click",M),k=p=>{p.key==="Escape"&&e(q)&&j()},document.addEventListener("keydown",k);const r=document.getElementById("sendChat"),n=document.getElementById("chatInput"),i=document.getElementById("chatMessages"),f=document.getElementById("initialPlaceholder");if(r&&n&&i){const p=async()=>{const c=n.value.trim();if(!c)return;const w=`You are Synthia, a helpful AI assistant integrated into the Microtask productivity app. Keep your answers concise and relevant to task management, scheduling, note-taking, and general productivity. The user's name is ${e($)||"User"}. Today's date is ${new Date().toLocaleDateString()}. 

User query: `+c,h=document.createElement("div");h.className=`p-3 rounded-lg shadow-sm self-end w-max max-w-[85%] ml-auto mb-3 break-words ${e(t)?"bg-blue-700 text-blue-100":"bg-blue-500 text-white"}`,h.textContent=c,f&&!f.classList.contains("hidden")&&f.classList.add("hidden"),i.appendChild(h),n.value="",i.scrollTop=i.scrollHeight;const d=document.createElement("div");d.id="aiTyping",d.className=`text-sm self-start italic px-3 py-2 rounded-lg shadow-sm w-max max-w-[85%] mb-3 ${e(t)?"bg-zinc-700 text-zinc-400":"bg-gray-200 text-gray-600"}`,d.textContent="Synthia is typing...",i.appendChild(d),i.scrollTop=i.scrollHeight;try{const y=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:w})});if(d.remove(),!y.ok)throw new Error(`API request failed with status ${y.status}`);const g=await y.json();let W=((g==null?void 0:g.reply)||"Hmm, I couldn't get a response this time.").replace(new RegExp("(?<!\\*)\\*(?!\\*)","g"),"").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\n/g,"<br>");const b=document.createElement("div");b.className=`p-3 rounded-lg shadow-sm self-start w-max max-w-[85%] mb-3 break-words ${e(t)?"bg-zinc-700 text-zinc-200":"bg-white text-gray-800"}`,b.innerHTML=W,i.appendChild(b),i.scrollTop=i.scrollHeight}catch(y){console.error("[AI Chat Page] Chat API error:",y);const g=document.getElementById("aiTyping");if(g)g.textContent="Oops! Something went wrong fetching the response.",g.classList.remove("italic","bg-gray-200","text-gray-600","dark:bg-zinc-700","dark:text-zinc-400"),g.classList.add("font-medium",e(t)?"text-red-400 bg-red-900":"text-red-600 bg-red-100");else{const v=document.createElement("div");v.className=`font-medium text-sm self-start p-3 rounded-lg shadow-sm mb-3 ${e(t)?"text-red-400 bg-red-900":"text-red-600 bg-red-100"}`,v.textContent="Oops! Something went wrong fetching the response.",i.appendChild(v)}i.scrollTop=i.scrollHeight}};r.addEventListener("click",p),n.addEventListener("keypress",c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),p())})}else console.error("[AI Chat Page] Chat UI elements not found!")}),We(()=>{{M&&document.removeEventListener("click",M),k&&document.removeEventListener("keydown",k);const r=document.getElementById("darkModeToggle");r&&r.removeEventListener("click",N)}}),Ee(()=>x(),()=>{z(m,x().url.pathname)}),He(),Se();var _=Ke(),F=s(_);{var ue=r=>{var n=Ne(),i=s(n),f=s(i),p=l(s(f),2);o(f);var c=l(f,2),u=s(c),w=l(u,2);let h;var d=l(w,2),y=s(d);P(2),o(d);var g=l(d,2),v=l(g,2),le=s(v);P(2),o(v);var W=l(v,2);o(c),o(i);var b=l(i,2),ke=s(b);P(2),o(b),o(n),oe(_e=>{a(n,1,`fixed top-0 left-0 h-full w-64 shadow-lg z-50 flex flex-col justify-between p-4 border-r
             ${e(t)?"bg-zinc-800 border-zinc-700":"bg-white border-gray-200"}`,"svelte-vyayqc"),a(f,1,`flex items-center gap-2 mb-8 pb-4 border-b $${(e(t)?"border-zinc-700":"border-gray-200")??""}`,"svelte-vyayqc"),a(p,1,`text-xl font-bold ${e(t)?"text-zinc-100":"text-gray-800"}`,"svelte-vyayqc"),a(u,1,`flex items-center gap-3 px-3 py-2 rounded-md font-semibold transition-colors duration-150
                    ${e(m)==="/home"||e(m)==="/"?e(t)?"bg-blue-700 text-white":"bg-blue-600 text-white":e(t)?"text-zinc-300 hover:bg-zinc-700":"text-gray-700 hover:bg-gray-100"}`,"svelte-vyayqc"),h=a(w,1,"flex items-center gap-3 px-3 py-2 rounded-md font-semibold transition-colors duration-150 svelte-vyayqc",null,h,_e),a(d,1,`flex items-center gap-3 px-3 py-2 rounded-md font-semibold transition-colors duration-150
                    ${e(m)==="/tasks"?e(t)?"bg-blue-700 text-white":"bg-blue-600 text-white":e(t)?"text-zinc-300 hover:bg-zinc-700":"text-gray-700 hover:bg-gray-100"}`,"svelte-vyayqc"),a(y,0,`w-5 h-5 ${e(m)==="/tasks"?"stroke-white":e(t)?"stroke-zinc-300":"stroke-gray-700"}`,"svelte-vyayqc"),a(g,1,`flex items-center gap-3 px-3 py-2 rounded-md font-semibold transition-colors duration-150
                    ${e(m)==="/calendar"?e(t)?"bg-blue-700 text-white":"bg-blue-600 text-white":e(t)?"text-zinc-300 hover:bg-zinc-700":"text-gray-700 hover:bg-gray-100"}`,"svelte-vyayqc"),a(v,1,`flex items-center gap-3 px-3 py-2 rounded-md font-semibold transition-colors duration-150
                    ${e(m)==="/workspace"?e(t)?"bg-blue-700 text-white":"bg-blue-600 text-white":e(t)?"text-zinc-300 hover:bg-zinc-700":"text-gray-700 hover:bg-gray-100"}`,"svelte-vyayqc"),a(le,0,`w-5 h-5 ${e(m)==="/workspace"?"stroke-white":e(t)?"stroke-zinc-300":"stroke-gray-700"}`,"svelte-vyayqc"),a(W,1,`flex items-center gap-3 px-3 py-2 rounded-md font-semibold transition-colors duration-150
                    ${e(m)==="/ai-chat"?e(t)?"bg-blue-700 text-white":"bg-blue-600 text-white":e(t)?"text-zinc-300 hover:bg-zinc-700":"text-gray-700 hover:bg-gray-100"}`,"svelte-vyayqc"),a(b,1,`flex items-center gap-3 px-3 py-2 rounded-md font-semibold w-full mt-auto transition-colors duration-150
                     ${e(t)?"text-zinc-300 hover:bg-zinc-700":"text-gray-700 hover:bg-gray-100"}`,"svelte-vyayqc"),a(ke,0,`w-5 h-5 ${e(t)?"stroke-zinc-300":"stroke-gray-700"}`,"svelte-vyayqc")},[()=>({"bg-blue-600":!e(t)&&x().url.pathname==="/dashboard","bg-blue-800":e(t)&&x().url.pathname==="/dashboard","text-white":x().url.pathname==="/dashboard","text-gray-700":!e(t)&&x().url.pathname!=="/dashboard","text-zinc-300":e(t)&&x().url.pathname!=="/dashboard","hover:bg-gray-100":!e(t),"hover:bg-zinc-700":e(t)})],Ce),D("click",b,U),Ae(3,n,()=>Be,()=>({x:-300,duration:300,easing:je})),E(r,n)};re(F,r=>{e(q)&&r(ue)})}var J=l(F,2),I=s(J),C=s(I),Q=s(C),R=l(Q,2),me=l(s(R),2);o(R),o(C);var Y=l(C,2),L=s(Y),fe=l(s(L),2);o(L);var A=l(L,2),be=l(s(A),2);o(A);var B=l(A,2),S=l(s(B),2),T=l(s(S),2),xe=s(T);o(T);var G=l(T,2);o(S),o(B);var V=l(B,2),X=s(V),we=s(X);{var qe=r=>{var n=Ue();E(r,n)},ze=r=>{var n=Oe();E(r,n)};re(we,r=>{e(t)?r(qe):r(ze,!1)})}o(X),o(V),o(Y),o(I);var ee=l(I,2),te=s(ee),Z=l(te,4),ae=s(Z),se=s(ae),Me=l(se,2);o(ae),o(Z),o(ee),o(J),o(_),oe(()=>{a(_,1,`flex h-screen font-sans ${e(t)?"dark bg-zinc-900 text-zinc-300":"bg-gray-100 text-gray-800"}`,"svelte-vyayqc"),a(I,1,`top-header ${e(t)?"bg-zinc-800 border-zinc-700":"bg-white border-gray-200"}`,"svelte-vyayqc"),a(me,1,`${e(t)?"text-zinc-100":"text-gray-800"}`,"svelte-vyayqc"),a(fe,1,`dropdown-window hidden ${e(t)?"bg-zinc-700 border-zinc-600 text-zinc-300":"bg-white border-gray-200 text-gray-700"}`,"svelte-vyayqc"),a(be,1,`dropdown-window hidden ${e(t)?"bg-zinc-700 border-zinc-600 text-zinc-300":"bg-white border-gray-200 text-gray-700"}`,"svelte-vyayqc"),a(S,1,`dropdown-window hidden ${e(t)?"bg-zinc-700 border-zinc-600 text-zinc-300":"bg-white border-gray-200 text-gray-700"}`,"svelte-vyayqc"),Le(xe,`Welcome, ${e($)||"User"}!`),a(G,1,`text-xs px-2 py-1.5 rounded w-full text-left transition-colors duration-150 ${e(t)?"bg-red-700 hover:bg-red-600 text-zinc-300":"bg-red-100 hover:bg-red-200 text-red-700"}`,"svelte-vyayqc"),a(V,1,`ml-2 p-1.5 rounded-full transition-colors duration-150 ${e(t)?"hover:bg-zinc-700 text-zinc-300":"hover:bg-gray-100 text-gray-700"}`,"svelte-vyayqc"),a(te,1,`w-full px-4 sm:px-6 py-3 flex items-center gap-3 shadow-sm flex-shrink-0 border-b ${e(t)?"bg-zinc-800 text-zinc-100 border-zinc-700":"bg-white text-gray-800 border-gray-200"}`,"svelte-vyayqc"),a(Z,1,`p-4 border-t flex-shrink-0 ${e(t)?"bg-zinc-800 border-zinc-700":"bg-white border-gray-200"}`,"svelte-vyayqc"),a(se,1,`w-full border rounded-lg px-4 py-3 text-base focus:outline-none focus:ring-2 shadow-sm pr-12
                              ${e(t)?"bg-zinc-700 border-zinc-600 text-zinc-100 placeholder-zinc-400 focus:ring-blue-500 focus:border-blue-500":"border-gray-300 text-gray-800 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"}`,"svelte-vyayqc"),a(Me,1,`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2
                               ${e(t)?"text-zinc-400 hover:text-blue-400 focus:ring-blue-500 focus:ring-offset-zinc-800":"text-gray-500 hover:text-blue-600 focus:ring-blue-500 focus:ring-offset-white"}`,"svelte-vyayqc")}),D("click",Q,ye),D("click",G,U),E(ce,_),$e(),ge()}export{r0 as component};
